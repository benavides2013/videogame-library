<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Biblioteca de Juegos - Con Edici√≥n</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }
    
    h1 {
      color: #667eea;
      margin-bottom: 30px;
      text-align: center;
    }
    
    .form-group {
      margin-bottom: 15px;
    }
    
    label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
      color: #333;
    }
    
    input, select {
      width: 100%;
      padding: 10px;
      border: 2px solid #ddd;
      border-radius: 5px;
      font-size: 16px;
    }
    
    input:focus, select:focus {
      outline: none;
      border-color: #667eea;
    }
    
    button {
      background: #667eea;
      color: white;
      padding: 12px 30px;
      border: none;
      border-radius: 5px;
      font-size: 16px;
      cursor: pointer;
      width: 100%;
      margin-top: 10px;
    }
    
    button:hover {
      background: #5568d3;
    }
    
    .juego-card {
      background: #f8f9fa;
      padding: 20px;
      margin: 15px 0;
      border-radius: 10px;
      border-left: 4px solid #667eea;
      position: relative;
    }
    
    .juego-card h3 {
      color: #333;
      margin-bottom: 10px;
    }
    
    .juego-card p {
      color: #666;
      margin: 5px 0;
    }
    
    .btn-group {
      display: flex;
      gap: 10px;
      margin-top: 15px;
    }
    
    .btn-editar {
      background: #3498db;
      padding: 8px 15px;
      font-size: 14px;
      width: auto;
      flex: 1;
      margin: 0;
    }
    
    .btn-editar:hover {
      background: #2980b9;
    }
    
    .btn-eliminar {
      background: #e74c3c;
      padding: 8px 15px;
      font-size: 14px;
      width: auto;
      flex: 1;
      margin: 0;
    }
    
    .btn-eliminar:hover {
      background: #c0392b;
    }
    
    .btn-cancelar {
      background: #95a5a6;
      width: 48%;
      display: inline-block;
      margin-right: 4%;
    }
    
    .btn-cancelar:hover {
      background: #7f8c8d;
    }
    
    .btn-guardar {
      background: #27ae60;
      width: 48%;
      display: inline-block;
    }
    
    .btn-guardar:hover {
      background: #229954;
    }
    
    .badge {
      display: inline-block;
      padding: 5px 10px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: bold;
      margin-top: 5px;
    }
    
    .badge-completado {
      background: #2ecc71;
      color: white;
    }
    
    .badge-jugando {
      background: #f39c12;
      color: white;
    }
    
    .badge-pendiente {
      background: #95a5a6;
      color: white;
    }
    
    .estadisticas {
      background: #ecf0f1;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 30px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 15px;
    }
    
    .stat-item {
      text-align: center;
    }
    
    .stat-number {
      font-size: 32px;
      font-weight: bold;
      color: #667eea;
    }
    
    .stat-label {
      color: #666;
      font-size: 14px;
    }
    
    .modo-edicion {
      background: #fff3cd;
      border-left: 4px solid #f39c12;
    }
    
    .form-editar {
      margin-top: 15px;
      padding-top: 15px;
      border-top: 2px dashed #ddd;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üéÆ Mi Biblioteca de Videojuegos</h1>
    
    <!-- Estad√≠sticas -->
    <div class="estadisticas">
      <div class="stat-item">
        <div class="stat-number" id="totalJuegos">0</div>
        <div class="stat-label">Total</div>
      </div>
      <div class="stat-item">
        <div class="stat-number" id="completados">0</div>
        <div class="stat-label">Completados</div>
      </div>
      <div class="stat-item">
        <div class="stat-number" id="jugando">0</div>
        <div class="stat-label">Jugando</div>
      </div>
    </div>
    
    <!-- Formulario para agregar -->
    <form id="formJuego">
      <div class="form-group">
        <label for="titulo">T√≠tulo del Juego</label>
        <input type="text" id="titulo" placeholder="Ej: The Last of Us" required>
      </div>
      
      <div class="form-group">
        <label for="genero">G√©nero</label>
        <select id="genero" required>
          <option value="">Selecciona un g√©nero</option>
          <option value="Acci√≥n">Acci√≥n</option>
          <option value="Aventura">Aventura</option>
          <option value="RPG">RPG</option>
          <option value="Deportes">Deportes</option>
          <option value="Estrategia">Estrategia</option>
        </select>
      </div>
      
      <div class="form-group">
        <label for="plataforma">Plataforma</label>
        <input type="text" id="plataforma" placeholder="Ej: PS5, PC, Xbox" required>
      </div>
      
      <div class="form-group">
        <label for="estado">Estado</label>
        <select id="estado" required>
          <option value="Jugando">Jugando</option>
          <option value="Completado">Completado</option>
          <option value="Pendiente">Pendiente</option>
        </select>
      </div>
      
      <button type="submit">Agregar Juego</button>
    </form>
    
    <!-- Lista de juegos -->
    <div id="listaJuegos"></div>
  </div>

  <script>
    // Array para almacenar juegos
    let biblioteca = [];
    
    // Elementos del DOM
    const form = document.getElementById('formJuego');
    const listaJuegos = document.getElementById('listaJuegos');
    const totalJuegosEl = document.getElementById('totalJuegos');
    const completadosEl = document.getElementById('completados');
    const jugandoEl = document.getElementById('jugando');
    
    // Event listener para el formulario
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      agregarJuego();
    });
    
    // Funci√≥n para agregar juego
    function agregarJuego() {
      const titulo = document.getElementById('titulo').value;
      const genero = document.getElementById('genero').value;
      const plataforma = document.getElementById('plataforma').value;
      const estado = document.getElementById('estado').value;
      
      const nuevoJuego = {
        id: Date.now(),
        titulo,
        genero,
        plataforma,
        estado,
        fechaAgregado: new Date().toLocaleDateString()
      };
      
      biblioteca.push(nuevoJuego);
      
      // Limpiar formulario
      form.reset();
      
      // Actualizar vista
      renderizarJuegos();
      actualizarEstadisticas();
    }
    
    // Funci√≥n para renderizar juegos
    function renderizarJuegos() {
      listaJuegos.innerHTML = '';
      
      if (biblioteca.length === 0) {
        listaJuegos.innerHTML = '<p style="text-align: center; color: #999; margin-top: 30px;">No hay juegos agregados a√∫n</p>';
        return;
      }
      
      biblioteca.forEach(juego => {
        const juegoCard = document.createElement('div');
        juegoCard.className = 'juego-card';
        juegoCard.id = `juego-${juego.id}`;
        
        let badgeClass = 'badge-jugando';
        if (juego.estado === 'Completado') badgeClass = 'badge-completado';
        if (juego.estado === 'Pendiente') badgeClass = 'badge-pendiente';
        
        juegoCard.innerHTML = `
          <div class="juego-info">
            <h3>${juego.titulo}</h3>
            <p><strong>G√©nero:</strong> ${juego.genero}</p>
            <p><strong>Plataforma:</strong> ${juego.plataforma}</p>
            <p><strong>Agregado:</strong> ${juego.fechaAgregado}</p>
            <span class="badge ${badgeClass}">${juego.estado}</span>
            
            <div class="btn-group">
              <button class="btn-editar" data-id="${juego.id}">‚úèÔ∏è Editar</button>
              <button class="btn-eliminar" data-id="${juego.id}">üóëÔ∏è Eliminar</button>
            </div>
          </div>
        `;
        
        // Agregar event listeners a los botones
        const btnEditar = juegoCard.querySelector('.btn-editar');
        const btnEliminar = juegoCard.querySelector('.btn-eliminar');
        
        btnEditar.addEventListener('click', () => activarEdicion(juego.id));
        btnEliminar.addEventListener('click', () => eliminarJuego(juego.id));
        
        listaJuegos.appendChild(juegoCard);
      });
    }
    
    // Funci√≥n para activar modo edici√≥n
    function activarEdicion(id) {
      const juego = biblioteca.find(j => j.id === id);
      if (!juego) return;
      
      const juegoCard = document.getElementById(`juego-${id}`);
      juegoCard.classList.add('modo-edicion');
      
      juegoCard.innerHTML = `
        <div class="juego-info">
          <h3>‚úèÔ∏è Editando: ${juego.titulo}</h3>
          
          <div class="form-editar">
            <div class="form-group">
              <label>T√≠tulo</label>
              <input type="text" id="edit-titulo-${id}" value="${juego.titulo}">
            </div>
            
            <div class="form-group">
              <label>G√©nero</label>
              <select id="edit-genero-${id}">
                <option value="Acci√≥n" ${juego.genero === 'Acci√≥n' ? 'selected' : ''}>Acci√≥n</option>
                <option value="Aventura" ${juego.genero === 'Aventura' ? 'selected' : ''}>Aventura</option>
                <option value="RPG" ${juego.genero === 'RPG' ? 'selected' : ''}>RPG</option>
                <option value="Deportes" ${juego.genero === 'Deportes' ? 'selected' : ''}>Deportes</option>
                <option value="Estrategia" ${juego.genero === 'Estrategia' ? 'selected' : ''}>Estrategia</option>
              </select>
            </div>
            
            <div class="form-group">
              <label>Plataforma</label>
              <input type="text" id="edit-plataforma-${id}" value="${juego.plataforma}">
            </div>
            
            <div class="form-group">
              <label>Estado</label>
              <select id="edit-estado-${id}">
                <option value="Jugando" ${juego.estado === 'Jugando' ? 'selected' : ''}>Jugando</option>
                <option value="Completado" ${juego.estado === 'Completado' ? 'selected' : ''}>Completado</option>
                <option value="Pendiente" ${juego.estado === 'Pendiente' ? 'selected' : ''}>Pendiente</option>
              </select>
            </div>
            
            <button class="btn-cancelar" id="btn-cancelar-${id}">‚ùå Cancelar</button>
            <button class="btn-guardar" id="btn-guardar-${id}">üíæ Guardar</button>
          </div>
        </div>
      `;
      
      // Agregar event listeners a los botones de edici√≥n
      document.getElementById(`btn-cancelar-${id}`).addEventListener('click', cancelarEdicion);
      document.getElementById(`btn-guardar-${id}`).addEventListener('click', () => guardarEdicion(id));
    }
    
    // Funci√≥n para guardar edici√≥n
    function guardarEdicion(id) {
      const juego = biblioteca.find(j => j.id === id);
      if (!juego) return;
      
      // Obtener valores editados
      juego.titulo = document.getElementById(`edit-titulo-${id}`).value;
      juego.genero = document.getElementById(`edit-genero-${id}`).value;
      juego.plataforma = document.getElementById(`edit-plataforma-${id}`).value;
      juego.estado = document.getElementById(`edit-estado-${id}`).value;
      
      // Actualizar vista
      renderizarJuegos();
      actualizarEstadisticas();
      
      // Mostrar mensaje de √©xito (opcional)
      alert('‚úÖ Juego actualizado correctamente');
    }
    
    // Funci√≥n para cancelar edici√≥n
    function cancelarEdicion() {
      renderizarJuegos();
    }
    
    // Funci√≥n para eliminar juego
    function eliminarJuego(id) {
      if (confirm('¬øEst√°s seguro de eliminar este juego?')) {
        biblioteca = biblioteca.filter(juego => juego.id !== id);
        renderizarJuegos();
        actualizarEstadisticas();
      }
    }
    
    // Funci√≥n para actualizar estad√≠sticas
    function actualizarEstadisticas() {
      const total = biblioteca.length;
      const completados = biblioteca.filter(j => j.estado === 'Completado').length;
      const jugando = biblioteca.filter(j => j.estado === 'Jugando').length;
      
      totalJuegosEl.textContent = total;
      completadosEl.textContent = completados;
      jugandoEl.textContent = jugando;
    }
    
    // Inicializar al cargar
    window.addEventListener('load', () => {
      actualizarEstadisticas();
    });
  </script>
</body>
</html>